<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EventTrade - –ö—É—Ä—å–µ—Ä—Å–∫–∞—è –ø–∞–Ω–µ–ª—å</title>
    <link rel="stylesheet" href="courier.css">
</head>

<body>
    <div class="container">
        <div class="auth-screen" id="auth-screen">
            <div class="auth-form">
                <div class="logo">üê± EventTrade</div>
                <h2>–í—Ö–æ–¥ –¥–ª—è –∫—É—Ä—å–µ—Ä–æ–≤</h2>
                <form id="login-form">
                    <div class="form-group">
                        <input type="text" id="login" placeholder="–õ–æ–≥–∏–Ω" required>
                    </div>
                    <div class="form-group">
                        <input type="password" id="password" placeholder="–ü–∞—Ä–æ–ª—å" required>
                    </div>
                    <button type="submit" class="login-btn">–í–æ–π—Ç–∏</button>
                </form>
                <div class="auth-error" id="auth-error" style="display: none;"></div>
            </div>
        </div>

        <div class="courier-panel" id="courier-panel" style="display: none;">
            <header class="header">
                <div class="header-content">
                    <h1 class="logo">üê± –ö—É—Ä—å–µ—Ä—Å–∫–∞—è –ø–∞–Ω–µ–ª—å</h1>
                    <div class="courier-info">
                        <span class="courier-name" id="courier-name"></span>
                        <button class="logout-btn" onclick="logout()">–í—ã–π—Ç–∏</button>
                    </div>
                </div>
            </header>

            <main class="main">
                <div class="tabs-navigation">
                    <button class="tab-btn active" onclick="switchTab('available')">
                        –î–æ—Å—Ç—É–ø–Ω—ã–µ –∑–∞–∫–∞–∑—ã <span class="badge" id="available-badge">0</span>
                    </button>
                    <button class="tab-btn" onclick="switchTab('my-orders')">
                        –ú–æ–∏ –∑–∞–∫–∞–∑—ã <span class="badge" id="my-orders-badge">0</span>
                    </button>
                </div>

                <div class="tab-content">
                    <div class="tab-section active" id="available-section">
                        <div class="section-header">
                            <h2>–î–æ—Å—Ç—É–ø–Ω—ã–µ –∑–∞–∫–∞–∑—ã</h2>
                            <button class="refresh-btn" onclick="loadOrders()">üîÑ</button>
                        </div>
                        <div class="orders-list" id="available-orders">
                            <div class="empty-state">–ù–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∑–∞–∫–∞–∑–æ–≤</div>
                        </div>
                    </div>

                    <div class="tab-section" id="my-orders-section">
                        <div class="section-header">
                            <h2>–ú–æ–∏ –∑–∞–∫–∞–∑—ã</h2>
                            <button class="refresh-btn" onclick="loadOrders()">üîÑ</button>
                        </div>

                        <div class="my-orders-tabs">
                            <button class="my-orders-tab-btn active" onclick="switchMyOrdersTab('active')">
                                –ê–∫—Ç–∏–≤–Ω—ã–µ <span class="badge" id="my-active-badge">0</span>
                            </button>
                            <button class="my-orders-tab-btn" onclick="switchMyOrdersTab('completed')">
                                –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ <span class="badge" id="my-completed-badge">0</span>
                            </button>
                        </div>

                        <div class="my-orders-content">
                            <div class="my-orders-tab-section active" id="my-active-section">
                                <div class="orders-list" id="my-active-orders">
                                    <div class="empty-state">–£ –≤–∞—Å –Ω–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞–∫–∞–∑–æ–≤</div>
                                </div>
                            </div>
                            <div class="my-orders-tab-section" id="my-completed-section">
                                <div class="orders-list" id="my-completed-orders">
                                    <div class="empty-state">–£ –≤–∞—Å –Ω–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –∑–∞–∫–∞–∑–æ–≤</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </main>
        </div>

        <div class="modal-overlay" id="modal-overlay" style="display: none;">
            <div class="modal">
                <div class="modal-header">
                    <h3>–î–µ—Ç–∞–ª–∏ –∑–∞–∫–∞–∑–∞</h3>
                    <button class="close-btn" onclick="closeModal()">√ó</button>
                </div>
                <div class="modal-content" id="modal-content">
                </div>
                <div class="modal-actions" id="modal-actions">
                </div>
            </div>
        </div>

        <div class="qr-scanner-modal" id="qr-scanner-modal" style="display: none;">
            <div class="qr-scanner-container">
                <div class="qr-scanner-header">
                    <h3>–°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ QR –∫–æ–¥–∞</h3>
                    <button class="qr-scanner-close-btn" onclick="closeQRScanner()">√ó</button>
                </div>
                <div class="qr-scanner-content">
                    <video id="qr-video" autoplay></video>
                    <div class="qr-scanner-overlay">
                        <div class="qr-scanner-frame"></div>
                    </div>
                </div>
                <div class="qr-scanner-info">
                    <p>–ù–∞–≤–µ–¥–∏—Ç–µ –∫–∞–º–µ—Ä—É –Ω–∞ QR –∫–æ–¥ –ø–∞–ª–∞—Ç–∫–∏</p>
                    <p id="qr-scanner-status">–ì–æ—Ç–æ–≤ –∫ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—é</p>
                </div>
            </div>
        </div>

        <div class="chat-modal" id="chat-modal" style="display: none;">
            <div class="chat-container">
                <div class="chat-header">
                    <h3 id="chat-title">–ß–∞—Ç —Å –∫–ª–∏–µ–Ω—Ç–æ–º</h3>
                    <button class="chat-close-btn" onclick="closeChat()">√ó</button>
                </div>
                <div class="chat-messages" id="chat-messages"></div>
                <div class="chat-input-container">
                    <input type="text" id="chat-input" placeholder="–í–≤–µ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ...">
                    <button class="chat-send-btn" onclick="sendMessage()">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
                </div>
            </div>
        </div>

        <div class="loading" id="loading" style="display: none;">
            <div class="spinner"></div>
        </div>
    </div>

    <script type="module" src="https://unpkg.com/qr-scanner@1.4.2/qr-scanner.min.js"></script>
    <script type="module" src="courier.js"></script>
</body>

</html>
